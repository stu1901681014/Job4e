<mat-card-header>
  <mat-card-title>{{offer?.title ? 'Edit Offer ' + offer.title : 'Create New Offer'}}</mat-card-title>
</mat-card-header>
<mat-card-content>
  <form *ngIf="formGroup"
        [formGroup]="formGroup"
        (ngSubmit)="onSubmit()">
    <app-input label="Title" placeholder="Type offer's title" type="text" [formControl]="this.formGroup.get('title')"></app-input>
    <app-input label="Description" placeholder="Type offer's description" type="textarea" [formControl]="this.formGroup.get('description')"></app-input>
    <app-input label="Salary" placeholder="Type offer's salary" type="number" [formControl]="this.formGroup.get('salary')"></app-input>
    <app-input label="Required skills" placeholder="Type offer's required skills separated by comma (e.g. skill1, skill2)" type="text" [formControl]="requiredSkillsControl"></app-input>
    <app-input label="Active" placeholder="Can users apply for this job?" type="checkbox" [formControl]="this.formGroup.get('is_active')"></app-input>

    <div *ngIf="!(editOfferLoading$ | async); else loadingSpinner">
      <button type="submit" mat-raised-button color="primary" [disabled]="formGroup.invalid">Submit</button>
      <button type="button" mat-raised-button (click)="closeDialog()">Cancel</button>
    </div>
  </form>
</mat-card-content>

<ng-template #loadingSpinner>
  <mat-spinner diameter="30"></mat-spinner>
</ng-template>
